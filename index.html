<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>jootubemusic</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
  <div class="header-inner">
    <!-- 왼쪽: 로고 -->
    <div class="header-left">
      <div class="logo">
        <span>Joo</span>tubeMusic
      </div>
    </div>

    <!-- 가운데: 대표 커버 자리 (지금은 더미) -->
    <div class="header-center">
      <div class="hero-cover-placeholder"></div>
    </div>

    <!-- 오른쪽: 로그인 영역 -->
    <div class="header-right">
      <span id="authStatus" class="auth-status">로그인하지 않은 상태입니다.</span>
      <button id="loginBtn" class="auth-btn">Google로 로그인</button>
      <button id="logoutBtn" class="auth-btn" style="display:none;">로그아웃</button>
    </div>
  </div>
</header>


  <main>
    <div class="search-bar">
      <input
        id="searchInput"
        type="text"
        placeholder="앨범, 아티스트, 플레이리스트를 검색하세요"
      />
      <button id="searchBtn">검색</button>
    </div>

    <!-- Google 로그인 영역 -->
    <div id="authBar" class="info">
      <span id="authStatus">로그인하지 않은 상태입니다.</span>
      <button id="loginBtn">Google로 로그인</button>
      <button id="logoutBtn" style="display:none;">로그아웃</button>
    </div>

    <div class="info">
      검색 버튼을 눌러 Last.fm에서 앨범을 찾고, 원하는 앨범을 선택해 내 그리드에 추가할 수 있습니다.
    </div>

    <!-- 내가 고른 앨범 그리드 -->
    <section class="section-my">
      <h2 class="section-title">내 앨범</h2>

      <!-- 카테고리 필터 -->
      <div id="categoryBar" class="category-bar">
        <button class="category-btn active" data-category="all">All</button>
        <button class="category-btn" data-category="kpop">K‑Pop</button>
        <button class="category-btn" data-category="pop">Pop</button>
        <button class="category-btn" data-category="jazz">Jazz</button>
        <button class="category-btn" data-category="classic">Classic</button>
        <button class="category-btn" data-category="etc">Etc</button>
      </div>

      <div id="myGrid" class="grid"></div>
      <div id="empty" class="empty">아직 선택한 앨범이 없습니다.</div>
    </section>
  </main>

  <!-- 검색 결과 모달 -->
  <div id="searchModal" class="modal" style="display:none;">
    <div class="modal-backdrop" id="modalBackdrop"></div>
    <div class="modal-content">
      <div class="modal-header">
        <span id="modalTitle">검색 결과</span>
        <button id="modalClose" class="modal-close">×</button>
      </div>
      <div id="modalGrid" class="grid"></div>
    </div>
  </div>

  <!-- 커버 입력 모달 -->
  <div id="coverModal" class="modal" style="display:none;">
    <div class="modal-backdrop" id="coverBackdrop"></div>
    <div class="modal-content">
      <div class="modal-header">
        <span id="coverModalTitle">앨범 커버 추가</span>
        <button id="coverModalClose" class="modal-close">×</button>
      </div>
      <div class="info" id="coverInfo"></div>
      <input
        id="coverUrlInput"
        type="text"
        class="cover-input"
        placeholder="이미지 URL을 붙여넣으세요 (https://...)"
      />
      <div class="cover-preview-wrap">
        <img id="coverPreview" class="cover-preview" src="" alt="" />
      </div>
      <button id="coverSaveBtn" class="cover-save-btn">저장</button>
    </div>
  </div>

  <!-- 앨범 트랙 모달 (backdrop 포함 버전) -->
  <div id="trackModal" class="modal" style="display:none;">
    <div class="modal-backdrop" id="trackBackdrop"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="trackModalTitle"></h2>
        <div>
          <button id="trackCoverChangeBtn" class="track-add-btn">커버 변경</button>
          <button id="trackModalClose">닫기</button>
        </div>
      </div>

      <ul id="trackList"></ul>

      <button id="trackAddBtn" class="track-add-btn">트랙 추가</button>
    </div>
  </div>

  <!-- 미니 플레이어 -->
  <div class="mini-player" id="miniPlayer" style="display:none;">
    <img id="miniCover" class="mini-cover" src="" alt="" />
    <div class="mini-meta">
      <div id="miniTitle" class="mini-meta-title"></div>
      <div id="miniArtist" class="mini-meta-artist"></div>

      <!-- 타임라인 + 시간 -->
      <div class="mini-timeline">
        <span id="miniCurrentTime" class="mini-time">00:00</span>
        <input
          type="range"
          id="miniSeek"
          class="mini-seek"
          min="0"
          max="100"
          step="0.1"
          value="0"
        />
        <span id="miniDuration" class="mini-time">00:00</span>
      </div>
    </div>
    <button class="mini-btn" id="miniToggle">▶</button>
    <button class="mini-btn" id="miniHide">×</button>
  </div>

  <!-- 숨겨진 YouTube 플레이어 (실제 재생 담당) -->
  <div id="ytPlayer" style="width:0;height:0;overflow:hidden;"></div>

  <script type="module" src="script.js"></script>
</body>
</html>
