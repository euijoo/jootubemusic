<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>jootubemusic – Web Player</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" as="style" crossorigin
      href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">
</head>
<body>
  <!-- 전체 래퍼 -->
  <div class="app-shell">
    
    <!-- ===== 상단 네비게이션 바 ===== -->
    <header class="topbar">
  <div class="topbar-left">
    <div class="logo">
      <span class="logo-text">jootubemusic</span>
    </div>

    <!-- PC/태블릿용 아이콘 (왼쪽) - class 추가 -->
    <nav class="icon-nav desktop-only">
      <button class="icon-nav-btn icon-nav-active" data-view="home" title="Home">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
          <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
        </svg>
      </button>
      <button class="icon-nav-btn" data-view="podcasts" title="Podcasts">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
        </svg>
      </button>
      <button class="icon-nav-btn" data-view="library" title="Library">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/>
        </svg>
      </button>
    </nav>
  </div>

  <div class="topbar-right">
    <!-- 모바일용 아이콘 (오른쪽) - class 추가 -->
    <nav class="icon-nav mobile-only">
      <button class="icon-nav-btn icon-nav-active" data-view="home" title="Home">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
          <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
        </svg>
      </button>
      <button class="icon-nav-btn" data-view="podcasts" title="Podcasts">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
        </svg>
      </button>
      <button class="icon-nav-btn" data-view="library" title="Library">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/>
        </svg>
      </button>
      
      <!-- 모바일 전용 검색 아이콘 -->
      <button class="icon-nav-btn mobile-search-btn" title="Search">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
          <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
        </svg>
      </button>
    </nav>

    <!-- PC/태블릿용 검색바 -->
    <div class="search-bar-top desktop-search">
      <input id="searchInput" type="text" placeholder="앨범, 아티스트, 트랙 검색" />
      <button id="searchBtn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
        </svg>
      </button>
    </div>

    <button id="authToggleBtn" class="auth-btn-amazon">Sign In</button>
  </div>
</header>

    <!-- 본문 레이아웃 -->
    <div class="app-body">
      
      <!-- 좌측 사이드바 -->
      <aside class="sidebar">
        <div class="sidebar-section">
          <div class="sidebar-title">Categories</div>
          <button class="sidebar-link" data-category="all">All</button>
          <button class="sidebar-link" data-category="kpop">K-pop</button>
          <button class="sidebar-link" data-category="ost">indie</button>
          <button class="sidebar-link" data-category="pop">Pop</button>
          <button class="sidebar-link" data-category="jazz">Jazz</button>
          <button class="sidebar-link" data-category="classic">Classic</button>
          <button class="sidebar-link" data-category="ost">OST</button>
          <button class="sidebar-link" data-category="etc">ETC</button>
        </div>

        <div class="sidebar-section">
          <div class="sidebar-title">Categories</div>
          <div id="categoryBar" class="category-bar sidebar-categories">
            <button class="category-btn active" data-category="all">All</button>
            <button class="category-btn" data-category="kpop">K-Pop</button>
            <button class="category-btn" data-category="pop">Pop</button>
            <button class="category-btn" data-category="ost">OST</button>
            <button class="category-btn" data-category="etc">Etc</button>
          </div>
        </div>
      </aside>

      <!-- 메인 콘텐츠 -->
      <main class="content">
        <p class="info">
          좋아하는 앨범을 추가하고, 유튜브 트랙을 연결해서 나만의 웹 플레이어를 만들어 보세요.
        </p>

        <section class="section-my">
          <h2 class="section-title">내 앨범</h2>
          <div id="myGrid" class="grid"></div>
          <div id="empty" class="empty">아직 추가된 앨범이 없습니다.</div>
        </section>
      </main>
    </div>

  </div>

  <!-- 모바일 검색 모달 -->
  <div id="mobileSearchModal" class="mobile-search-modal" style="display: none;">
    <div class="mobile-search-header">
      <input
        id="mobileSearchInput"
        type="text"
        placeholder="앨범, 아티스트, 트랙 검색"
        autofocus
      />
      <button id="mobileSearchClose" class="mobile-search-close">✕</button>
    </div>
  </div>

  <!-- 검색 결과 모달 -->
  <div id="searchModal" class="modal" style="display: none">
    <div id="modalBackdrop" class="modal-backdrop"></div>
    <div class="modal-content">
      <div class="modal-header">
        <span id="modalTitle"></span>
        <button id="modalClose" class="modal-close">&times;</button>
      </div>
      <div id="modalGrid" class="grid"></div>
    </div>
  </div>

  <!-- 트랙 모달 -->
  <div id="trackModal" class="modal" style="display: none">
    <div id="trackBackdrop" class="modal-backdrop"></div>
    <div class="modal-content terminal-modal">
      <div class="modal-header">
        <div>
          <span id="trackModalTitle"></span>
          <button id="trackAddBtn" class="track-add-btn">add</button>
        </div>
        <button id="trackModalClose" class="modal-close">&times;</button>
      </div>
      <ul id="trackList" class="track-list"></ul>
    </div>
  </div>

  <!-- 커버 URL 모달 -->
  <div id="coverModal" class="modal" style="display: none">
    <div id="coverBackdrop" class="modal-backdrop"></div>
    <div class="modal-content">
      <div class="modal-header">
        <span id="coverModalTitle"></span>
        <button id="coverModalClose" class="modal-close">&times;</button>
      </div>
      <p id="coverInfo" class="info">앨범 커버 이미지 URL을 입력하세요.</p>
      <input
        id="coverUrlInput"
        class="cover-input"
        type="text"
        placeholder="https://example.com/cover.jpg"
      />
      <div class="cover-preview-wrap">
        <img id="coverPreview" class="cover-preview" alt="cover preview" />
      </div>
      <button id="coverSaveBtn" class="cover-save-btn">저장</button>
    </div>
  </div>

  <!-- 앨범 옵션 모달 -->
  <div id="albumOptionModal" class="modal" style="display: none">
    <div id="albumOptionBackdrop" class="modal-backdrop"></div>
    <div class="modal-content modal-content-compact">
      <div class="modal-header">
        <span id="albumOptionTitle"></span>
        <button id="albumOptionClose" class="modal-close">&times;</button>
      </div>
      <div class="modal-body">
        <p>이 앨범에 대해 작업을 선택하세요.</p>
        <button id="albumOptionCoverBtn" class="option-btn">커버 수정</button>
        <button id="albumOptionCategoryBtn" class="option-btn">카테고리 변경</button>
        <button id="albumOptionDeleteBtn" class="option-btn option-danger">앨범 삭제</button>
      </div>
    </div>
  </div>

  <!-- 카테고리 관리 모달 -->
  <div id="categoryModal" class="modal" style="display: none">
    <div id="categoryBackdrop" class="modal-backdrop"></div>
    <div class="modal-content modal-content-compact">
      <div class="modal-header">
        <span>카테고리 선택</span>
        <button id="categoryModalClose" class="modal-close">&times;</button>
      </div>
      <div class="modal-body">
        <p style="margin-bottom: 8px">앨범 카테고리를 지정하세요.</p>
        <div id="categoryList" class="category-list-modal"></div>
      </div>
    </div>
  </div>

  <!-- 미니 플레이어 (Amazon Music 스타일) -->
<div id="miniPlayer" class="mini-player-amazon" style="display: none">
  <!-- 왼쪽: 커버 + 메타 -->
  <div class="mini-left">
    <img id="miniCover" class="mini-cover-amazon" alt="cover" />
    <div class="mini-meta-amazon">
      <div class="mini-meta-title-amazon">
        <span id="miniTitle"></span>
      </div>
      <div class="mini-meta-artist-amazon" id="miniArtist"></div>
    </div>
  </div> <!-- ✅ mini-left 닫기 -->

  <!-- 가운데: 재생/이전/다음 + 타임라인 -->
<div class="mini-center">
  <div class="mini-controls-row">
  <button id="miniPrev" class="mini-prev-btn" aria-label="이전 곡"></button>
  <button id="miniToggle" class="mini-play-btn" aria-label="재생/일시정지">▶</button>
  <button id="miniNext" class="mini-next-btn" aria-label="다음 곡"></button>
</div>
  <div class="mini-timeline-amazon">
    <span id="miniCurrentTime" class="mini-time-amazon">0:00</span>
    <input
      id="miniSeek"
      class="mini-seek-amazon"
      type="range"
      min="0"
      max="100"
      step="0.1"
      value="0"
    />
    <span id="miniDuration" class="mini-time-amazon">0:00</span>
  </div>
</div>


  <!-- 오른쪽: 닫기 버튼 -->
  <div class="mini-right">
    <button id="miniHide" class="mini-hide-btn">✕</button>
  </div>
</div>

  <!-- YouTube IFrame 컨테이너 (숨김) -->
  <div id="player-container" class="player-container">
    <iframe
      id="sc-player"
      style="opacity:0; visibility:hidden; width:1px; height:1px; position:absolute; pointer-events:none;"
      scrolling="no"
      frameborder="no"
      src=""
      allow="autoplay"
    ></iframe>
    <div id="ytPlayer" style="width:0; height:0; overflow:hidden;"></div>
  </div>

  <script type="module" src="script.js"></script>
</body>
</html>
